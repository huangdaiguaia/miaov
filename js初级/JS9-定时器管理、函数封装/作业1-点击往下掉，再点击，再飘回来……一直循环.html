<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>

<script src="miaov.js"></script>
<script>
window.onload = function () {
	var str = '';
	var len = 20;
	var aDiv = document.getElementsByTagName('div');
	var timer1 = null;
	var timer2=null;
	var num = 0;

	var target=500;

	for ( var i=0; i<len; i++ ) {
		str += '<div style="width:50px; height:50px; background:red; position:absolute; top:0px; left:'+ i*60 +'px;"></div>';
	}

	document.body.innerHTML = str;

	document.onclick = function () {
		clearInterval( timer1 );
		clearInterval( timer2 );
		if( target===500){
			timer1 = setInterval( function (){
				doMove( aDiv[num], 'top', 23, 500 );
				num ++;
				if ( num === len ) {
					target=0;
					num=19;
					clearInterval( timer1 );
				}
			}, 100 );
		}else{
			timer2= setInterval( function (){
				doMove( aDiv[num], 'top', 23, 0 );
				num --;
				if ( num === -1 ) {
					target=500;
					num=0;
					clearInterval( timer2 );
				}
			}, 100 );
		}
	};
};
</script>

</head>

<body>
</body>
</html>

